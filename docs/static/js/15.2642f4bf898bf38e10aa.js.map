{"version":3,"sources":["webpack:///./src/pages/NameCard.vue","webpack:///./src/pages/NameCard.vue?8ec4","webpack:///./src/pages/NameCard.vue?537d"],"names":["pages_NameCard","data","isBlack","isSelf","computed","account","this","$route","params","userId","userInfo","info","isRobot","assign_default","robotInfos","alias","nick","avatar","originAvatar","item","$store","state","userUID","myInfo","userInfos","_alias","util","getFriendAlias","isFriend","remarkLink","methods","changeBlack","dispatch","enterChat","location","href","enterHistory","addFriend","deleteFriend","that","$vux","confirm","show","title","onConfirm","selectortype_template_index_0_src_pages_NameCard","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","left-options","backText","_v","_s","slot","src","intro","type","action-type","nativeOn","click","$event","inline-desc","value","gender","width","birth","tel","email","sign","directives","name","rawName","expression","is-link","link","_e","on","on-change","model","callback","$$v","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/15.2642f4bf898bf38e10aa.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport util from '../utils'\n\nexport default {\n  data () {\n    return {\n      isBlack: false,\n      isSelf: false\n    }\n  },\n  computed: {\n    account () {\n      return this.$route.params.userId\n    },\n    userInfo () {\n      let info = {}\n      if (this.isRobot) {\n        info = Object.assign({}, this.robotInfos[this.account])\n        info.alias = info.nick || account\n        info.avatar = info.originAvatar || item.avatar\n      } else if (this.account === this.$store.state.userUID) {\n        info =  Object.assign({}, this.$store.state.myInfo)\n        info.alias = info.nick\n        this.isSelf = true\n      } else {\n        info = Object.assign({}, this.$store.state.userInfos[this.account])\n        info._alias = info.alias //服务器中存的别名，在备注栏展示\n        info.alias = util.getFriendAlias(info)\n        this.isBlack = info.isBlack\n      }\n      return info\n    },\n    robotInfos () {\n      return this.$store.state.robotInfos\n    },\n    // 是否是联系人，黑名单和好友都算\n    isFriend () {\n      let userInfo = this.userInfo\n      return userInfo.isFriend\n    },\n    isRobot () {\n      if (this.robotInfos[this.account]) {\n        return true\n      }\n      return false\n    },\n    remarkLink () {\n      return `/namecardremark/${this.account}`\n    }\n  },\n  methods: {\n    changeBlack () {\n      this.$store.dispatch('updateBlack', {\n        account: this.account,\n        isBlack: this.isBlack\n      })\n    },\n    enterChat () {\n      location.href = `#/chat/p2p-${this.account}`\n    },\n    enterHistory () {\n      location.href = `#/chatHistory/p2p-${this.account}`\n    },\n    addFriend () {\n      this.$store.dispatch('addFriend', this.account)\n    },\n    deleteFriend () {\n      let that = this\n      this.$vux.confirm.show({\n        title: '删除好友后，将同时解除双方的好友关系',\n        onConfirm () {\n          that.$store.dispatch('deleteFriend', that.account)\n        }\n      })\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/NameCard.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g-inherit m-article p-namecard\"},[_c('x-header',{staticClass:\"m-tab\",attrs:{\"left-options\":{backText: ' '}}},[_c('h1',{staticClass:\"m-tab-top\"},[_vm._v(_vm._s(_vm.userInfo.alias))]),_vm._v(\" \"),_c('a',{attrs:{\"slot\":\"left\"},slot:\"left\"})]),_vm._v(\" \"),(_vm.isRobot)?_c('div',{staticClass:\"m-list m-robot\"},[_c('div',{staticClass:\"u-logo\"},[_c('img',{staticClass:\"logo\",attrs:{\"src\":_vm.userInfo.avatar}}),_vm._v(\" \"),_c('h3',[_vm._v(_vm._s(_vm.userInfo.alias))]),_vm._v(\" \"),_c('p',[_vm._v(\"@\"+_vm._s(_vm.userInfo.account))])]),_vm._v(\" \"),_c('div',{staticClass:\"u-desc\"},[_c('p',[_vm._v(_vm._s(_vm.userInfo.intro))])]),_vm._v(\" \"),_c('div',{staticClass:\"u-bottom\"},[_c('x-button',{attrs:{\"type\":\"primary\",\"action-type\":\"button\"},nativeOn:{\"click\":function($event){return _vm.enterChat($event)}}},[_vm._v(\"开始对话\")])],1)]):_c('div',{staticClass:\"m-list\"},[_c('group',{staticClass:\"u-card\"},[_c('cell',{attrs:{\"title\":_vm.userInfo.account,\"inline-desc\":'昵称: '+_vm.userInfo.nick,\"value\":_vm.userInfo.gender=='不显示'?'':_vm.userInfo.gender}},[_c('img',{staticClass:\"icon\",attrs:{\"slot\":\"icon\",\"width\":\"20\",\"src\":_vm.userInfo.avatar},slot:\"icon\"})])],1),_vm._v(\" \"),_c('group',{staticClass:\"u-card\"},[_c('cell',{attrs:{\"title\":\"性别\"}},[_vm._v(_vm._s(_vm.userInfo.gender))]),_vm._v(\" \"),_c('cell',{attrs:{\"title\":\"生日\"}},[_vm._v(_vm._s(_vm.userInfo.birth))]),_vm._v(\" \"),_c('cell',{attrs:{\"title\":\"手机\"}},[_vm._v(_vm._s(_vm.userInfo.tel))]),_vm._v(\" \"),_c('cell',{attrs:{\"title\":\"邮箱\"}},[_vm._v(_vm._s(_vm.userInfo.email))]),_vm._v(\" \"),_c('cell',{attrs:{\"title\":\"签名\"}},[_vm._v(_vm._s(_vm.userInfo.sign))])],1),_vm._v(\" \"),_c('group',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isFriend),expression:\"isFriend\"}],staticClass:\"u-card\"},[_c('cell',{attrs:{\"title\":\"备注名\",\"is-link\":\"\",\"link\":_vm.remarkLink}},[_vm._v(_vm._s(_vm.userInfo._alias))])],1),_vm._v(\" \"),(!_vm.isSelf)?_c('group',{staticClass:\"u-card\"},[_c('x-switch',{staticClass:\"u-switch\",attrs:{\"title\":\"黑名单\"},on:{\"on-change\":_vm.changeBlack},model:{value:(_vm.isBlack),callback:function ($$v) {_vm.isBlack=$$v},expression:\"isBlack\"}})],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"u-bottom\"},[_c('x-button',{attrs:{\"type\":\"primary\",\"action-type\":\"button\"},nativeOn:{\"click\":function($event){return _vm.enterChat($event)}}},[_vm._v(\"聊天\")]),_vm._v(\" \"),_c('x-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isFriend),expression:\"isFriend\"}],attrs:{\"type\":\"primary\",\"action-type\":\"button\"},nativeOn:{\"click\":function($event){return _vm.enterHistory($event)}}},[_vm._v(\"历史记录\")]),_vm._v(\" \"),_c('x-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isFriend),expression:\"isFriend\"}],attrs:{\"type\":\"warn\",\"action-type\":\"button\"},nativeOn:{\"click\":function($event){return _vm.deleteFriend($event)}}},[_vm._v(\"删除好友\")]),_vm._v(\" \"),_c('x-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isFriend && !_vm.isSelf),expression:\"!isFriend && !isSelf\"}],attrs:{\"type\":\"warn\",\"action-type\":\"button\"},nativeOn:{\"click\":function($event){return _vm.addFriend($event)}}},[_vm._v(\"添加好友\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-14af2509\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/NameCard.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-14af2509\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vux-loader/src/style-loader.js!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./NameCard.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vux-loader/src/script-loader.js!../../node_modules/vux-loader/src/script-loader.js!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NameCard.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vux-loader/src/script-loader.js!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NameCard.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-14af2509\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../node_modules/vux-loader/src/template-loader.js!../../node_modules/vue-loader/lib/selector?type=template&index=0!./NameCard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/NameCard.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}