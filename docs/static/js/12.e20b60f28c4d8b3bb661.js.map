{"version":3,"sources":["webpack:///./src/pages/TeamCard.vue","webpack:///./src/pages/TeamCard.vue?8704","webpack:///./src/pages/TeamCard.vue?0efa"],"names":["pages_TeamCard","computed","teamId","this","$route","params","teamInfo","_this","$store","state","searchedTeams","find","team","teamDesc","type","memberNum","methods","applyClick","_this2","teamlist","validToCurrentUser","$toast","joinMode","applyTeam","showConfirm","_this3","$vux","confirm","prompt","title","closeOnConfirm","inputAttrs","maxlength","onConfirm","msg","hide","_this4","dispatch","functionName","options","ps","done","error","obj","history","go","selectortype_template_index_0_src_pages_TeamCard","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","left-options","backText","_v","slot","width","height","src","avatar","_s","name","action-type","nativeOn","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"2HAkBe,IAAAA,GACbC,UACEC,OADQ,WAEN,OAAOC,KAAKC,OAAOC,OAAOH,QAE5BI,SAJQ,WAII,IAAAC,EAAAJ,KACV,OAAOA,KAAKK,OAAOC,MAAMC,cAAcC,KAAK,SAAAC,GAC1C,OAAOA,EAAKV,SAAWK,EAAKL,UAGhCW,SATQ,WAUN,OAAKV,KAAKG,UAG4B,aAAvBH,KAAKG,SAASQ,KAAsB,MAAQ,OAC3D,IAAsBX,KAAKG,SAASS,UAApC,IAHS,KAMbC,SACEC,WADO,WACO,IAAAC,EAAAf,KACRS,EAAOT,KAAKK,OAAOC,MAAMU,SAASR,KAAK,SAAAC,GACzC,OAAOA,EAAKV,SAAWgB,EAAKhB,SAE9B,GAAIU,GAAQA,EAAKQ,mBAEfjB,KAAKkB,OAAO,aAGd,OAAQlB,KAAKG,SAASgB,UACpB,IAAK,YACHnB,KAAKkB,OAAO,aACZ,MACF,IAAK,WACHlB,KAAKoB,YACL,MACF,IAAK,aACHpB,KAAKqB,gBAIXA,YAtBO,WAsBQ,IAAAC,EAAAtB,KACbA,KAAKuB,KAAKC,QAAQC,OAAO,SACvBC,MAAO,UACPC,gBAAgB,EAChBC,YACEC,UAAU,MAEZC,UAAW,SAACC,GACPA,GACDT,EAAKF,UAAUW,GACfT,EAAKC,KAAKC,QAAQQ,QAElBV,EAAKJ,OAAO,eAKpBE,UAvCO,SAuCIW,GAAK,IAAAE,EAAAjC,KACdA,KAAKK,OAAO6B,SAAS,wBACnBC,aAAc,YACdC,SACErC,OAAQC,KAAKD,OACbsC,GAAIN,GAAO,GACXO,KAAM,SAACC,EAAOC,GACTD,EACDN,EAAKf,OAAOqB,IAGdN,EAAKf,OAAOa,EAAM,YAAc,QAChCU,QAAQC,IAAI,WCpFTC,GADEC,OAFjB,WAA0B,IAAAC,EAAA7C,KAAa8C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,wBAAkCF,EAAA,YAAiBE,YAAA,QAAAC,OAA2BC,gBAAgBC,SAAA,QAAgBL,EAAA,MAAWE,YAAA,cAAwBL,EAAAS,GAAA,SAAAT,EAAAS,GAAA,KAAAN,EAAA,KAAsCG,OAAOI,KAAA,QAAcA,KAAA,WAAaV,EAAAS,GAAA,KAAAN,EAAA,OAA0BE,YAAA,WAAqBF,EAAA,OAAYE,YAAA,gBAAAC,OAAmCI,KAAA,OAAAC,MAAA,KAAAC,OAAA,KAAAC,IAAAb,EAAA1C,UAAA0C,EAAA1C,SAAAwD,QAAmFJ,KAAA,SAAaV,EAAAS,GAAA,KAAAN,EAAA,OAAAH,EAAAS,GAAAT,EAAAe,GAAAf,EAAA1C,UAAA0C,EAAA1C,SAAA0D,SAAAhB,EAAAS,GAAA,KAAAN,EAAA,OAAAH,EAAAS,GAAAT,EAAAe,GAAAf,EAAAnC,aAAAmC,EAAAS,GAAA,KAAAN,EAAA,OAAuJE,YAAA,aAAuBF,EAAA,YAAiBG,OAAOxC,KAAA,UAAAmD,cAAA,UAAwCC,UAAWC,MAAA,SAAAC,GAAyB,OAAApB,EAAA/B,WAAAmD,OAAgCpB,EAAAS,GAAA,qBAElyBY,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACExE,EACA8C,GATF,EAVA,SAAA2B,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/12.e20b60f28c4d8b3bb661.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  computed: {\n    teamId () {\n      return this.$route.params.teamId\n    },\n    teamInfo () {\n      return this.$store.state.searchedTeams.find(team => {\n        return team.teamId === this.teamId\n      })\n    },\n    teamDesc () {\n      if (!this.teamInfo) {\n        return ''\n      }\n      let teamType = this.teamInfo.type === \"advanced\" ? \"高级群\" : \"普通群\"\n      return `${teamType}:${this.teamInfo.memberNum}人`\n    }\n  },\n  methods: {\n    applyClick () {\n      var team = this.$store.state.teamlist.find(team => {\n        return team.teamId === this.teamId\n      })\n      if (team && team.validToCurrentUser) {\n        // 查询到该群且该群对自己有效，说明已在群中\n        this.$toast('已在群中')\n        return\n      }\n      switch (this.teamInfo.joinMode) {\n        case 'rejectAll':\n          this.$toast('该群禁止任何人加入')\n          break\n        case 'noVerify':\n          this.applyTeam()\n          break\n        case 'needVerify':\n          this.showConfirm()\n          break\n      }\n    },\n    showConfirm () {\n      this.$vux.confirm.prompt('限十字以内', {\n        title: '请输入验证信息',\n        closeOnConfirm: false,\n        inputAttrs: {\n          maxlength:'10'\n        },\n        onConfirm: (msg) => {\n          if(msg) {\n            this.applyTeam(msg)\n            this.$vux.confirm.hide()\n          }else {\n            this.$toast('请输入验证信息')\n          }\n        }\n      })\n    },\n    applyTeam (msg) {\n      this.$store.dispatch('delegateTeamFunction', {\n        functionName: 'applyTeam',\n        options: {\n          teamId: this.teamId,\n          ps: msg || '',\n          done: (error, obj) => {\n            if(error){\n              this.$toast(error)\n              return\n            }\n            this.$toast(msg ? '申请成功 等待验证' : '已加入群')\n            history.go(-2)\n          }\n        }\n      })\n    }\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/TeamCard.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g-inherit m-article\"},[_c('x-header',{staticClass:\"m-tab\",attrs:{\"left-options\":{backText: ' '}}},[_c('h1',{staticClass:\"m-tab-top\"},[_vm._v(\"加入群\")]),_vm._v(\" \"),_c('a',{attrs:{\"slot\":\"left\"},slot:\"left\"})]),_vm._v(\" \"),_c('div',{staticClass:\"g-body\"},[_c('img',{staticClass:\"icon u-circle\",attrs:{\"slot\":\"icon\",\"width\":\"50\",\"height\":\"50\",\"src\":_vm.teamInfo && _vm.teamInfo.avatar},slot:\"icon\"}),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.teamInfo && _vm.teamInfo.name))]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.teamDesc))]),_vm._v(\" \"),_c('div',{staticClass:\"u-bottom\"},[_c('x-button',{attrs:{\"type\":\"primary\",\"action-type\":\"button\"},nativeOn:{\"click\":function($event){return _vm.applyClick($event)}}},[_vm._v(\"申请加入\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-40b2b4c2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/TeamCard.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-40b2b4c2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vux-loader/src/style-loader.js!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TeamCard.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vux-loader/src/script-loader.js!../../node_modules/vux-loader/src/script-loader.js!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TeamCard.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vux-loader/src/script-loader.js!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TeamCard.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-40b2b4c2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../node_modules/vux-loader/src/template-loader.js!../../node_modules/vue-loader/lib/selector?type=template&index=0!./TeamCard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-40b2b4c2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/TeamCard.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}